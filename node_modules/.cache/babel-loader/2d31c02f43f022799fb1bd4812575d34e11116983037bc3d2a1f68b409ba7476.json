{"ast":null,"code":"import _defineProperty from\"/Users/raven/WebstormProjects/champions-firebase-app/champions-firebase--app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/raven/WebstormProjects/champions-firebase-app/champions-firebase--app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/raven/WebstormProjects/champions-firebase-app/champions-firebase--app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Endorsement from'./Endorsement';import Header from'./Header';import{initializeApp}from'firebase/app';import{getDatabase,ref,push,onValue,remove}from'firebase/database';import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var appSettings={databaseURL:\"https://champions-project-e52d7-default-rtdb.firebaseio.com/\"};var app=initializeApp(appSettings);var database=getDatabase(app);var endorsementsListInDB=ref(database,\"endorsements\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),endorsementEl=_useState2[0],setEndorsementEl=_useState2[1];var _useState3=useState({mainValue:\"\",fromValue:\"\",toValue:\"\"}),_useState4=_slicedToArray(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];var handleInputChange=function handleInputChange(e){setInputValue(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};function clearState(){setInputValue({mainValue:\"\",fromValue:\"\",toValue:\"\"});}function handleSubmit(){if(inputValue.mainValue!==\"\"){push(endorsementsListInDB,inputValue);clearState();}else{console.log(\"alert\");}}useEffect(function(){onValue(endorsementsListInDB,function(snapshot){if(snapshot.exists()){var valuesArray=Object.entries(snapshot.val());var endorsements=valuesArray.map(function(value){return/*#__PURE__*/_jsx(Endorsement,{id:value[0],mainText:value[1].mainValue,fromText:value[1].fromValue,toText:value[1].toValue},value[0]);});setEndorsementEl(endorsements);}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container flow\",children:[/*#__PURE__*/_jsx(Header,{mainValue:inputValue.mainValue,fromValue:inputValue.fromValue,toValue:inputValue.toValue,handleChanges:handleInputChange,handleClick:handleSubmit}),endorsementEl]})});}export default App;","map":{"version":3,"names":["Endorsement","Header","initializeApp","getDatabase","ref","push","onValue","remove","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","appSettings","databaseURL","app","database","endorsementsListInDB","_useState","_useState2","_slicedToArray","endorsementEl","setEndorsementEl","_useState3","mainValue","fromValue","toValue","_useState4","inputValue","setInputValue","handleInputChange","e","prevState","_objectSpread","_defineProperty","target","name","value","clearState","handleSubmit","console","log","snapshot","exists","valuesArray","Object","entries","val","endorsements","map","id","mainText","fromText","toText","className","children","handleChanges","handleClick"],"sources":["/Users/raven/WebstormProjects/champions-firebase-app/champions-firebase--app/src/App.js"],"sourcesContent":["import Endorsement from './Endorsement';\nimport Header from './Header';\nimport { initializeApp } from'firebase/app';\nimport { getDatabase, ref, push, onValue, remove } from 'firebase/database';\nimport React, {useEffect, useState} from \"react\";\n\nfunction App() {\n\n    const appSettings = {\n        databaseURL: \"https://champions-project-e52d7-default-rtdb.firebaseio.com/\"\n    }\n    const app = initializeApp(appSettings);\n    const database = getDatabase(app);\n    const endorsementsListInDB = ref(database, \"endorsements\");\n\n    const [ endorsementEl, setEndorsementEl ] = useState([]);\n    const [inputValue, setInputValue ] = useState({\n        mainValue: \"\",\n        fromValue: \"\",\n        toValue: \"\"\n    })\n\n    const handleInputChange = (e) => {\n        setInputValue(prevState => ({\n            ...prevState,\n            [e.target.name]: e.target.value,\n        }));\n    };\n\n    function clearState() {\n        setInputValue({\n            mainValue: \"\",\n            fromValue: \"\",\n            toValue: \"\",\n        })\n    }\n    function handleSubmit() {\n        if (inputValue.mainValue !== \"\") {\n            push(endorsementsListInDB, inputValue);\n            clearState();\n        } else {\n            console.log(\"alert\");\n        }\n    }\n\n    useEffect(() => {\n        onValue(endorsementsListInDB, (snapshot) => {\n            if (snapshot.exists()) {\n                const valuesArray = Object.entries(snapshot.val());\n                const endorsements = valuesArray.map((value) => (\n                    <Endorsement\n                        key={value[0]}\n                        id={value[0]}\n                        mainText={value[1].mainValue}\n                        fromText={value[1].fromValue}\n                        toText={value[1].toValue}\n                    />\n                ));\n                setEndorsementEl(endorsements);\n            }\n        });\n    }, []);\n\n  return (\n    <div className=\"App\">\n        <div className={\"container flow\"}>\n            <Header\n                mainValue={inputValue.mainValue}\n                fromValue={inputValue.fromValue}\n                toValue={inputValue.toValue}\n                handleChanges={handleInputChange}\n                handleClick={handleSubmit}\n            />\n            {endorsementEl}\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}